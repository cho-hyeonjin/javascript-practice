// ðŸ‘©ðŸ»â€ðŸ’» ì½œë°± í•¨ìˆ˜ëŠ” ì½œë°± í•¨ìˆ˜ë‹¤
var obj = {
  vals: [1, 2, 3],
  logValues: function (v, i) {
    console.log(this, v, i);
  },
};
obj.logValues(1, 2);
[4, 5, 6].forEach(obj.logValues);
// =========================================================================================================

// ðŸ‘©ðŸ»â€ðŸ’» 1) ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisì— íŠ¹ì • ê°’ì„ ë°”ì¸ë”©í•˜ëŠ” ë°©ë²• 1 - ì „í†µì ì¸ ë°©ë²•
//       -> íŠ¹ì • thisê°’ì„ ë³€ìˆ˜ì— ë‹´ì•„ ì—¬ëŸ¬ ê³³ì—ì„œ ìž¬í™œìš©í•˜ê¸°
var obj1 = {
  name: "obj1",
  func: function () {
    var self = this;
    return function () {
      console.log(
        "selfì˜ name: ",
        self.name,
        "=> selfì— obj1ì„ í• ë‹¹í•˜ê³  selfì˜ nameì„ í™•ì¸í•´ë´¤ì–´ìš”.",
        "thisëŠ” obj1?",
        this === obj1 ? true : false,
        "selfëŠ” obj1?",
        self === obj1 ? true : false
      );
      console.log("ê·¸ëŸ¼ ì—¬ê¸°ì„œ thisê°€ ë­ë‹ˆ?", this); // obj1ì˜ funcëŠ” ì „ì—­ê°ì²´ì¸ Windowêµ°!
    };
  },
};

var callback = obj1.func();
setTimeout(callback, 1000);

// == obj1 ê°ì²´ ì•ˆì—ì„œ funcë©”ì„œë“œ å…§ì—ì„œ selfë¼ëŠ” ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ì—¬ obj1.funcë©”ì„œë“œì˜ thisê°ì²´ë¥¼ ë‹´ì•„ì¤Œ! =======================
//    ðŸ‘‰ðŸ» selfë³€ìˆ˜ë¡œ obj1.funcì˜ thisë°”ì¸ë”©ê°’ì¸ obj1ê°ì²´ì— ì ‘ê·¼í•  ìˆ˜ ìžˆê²Œ ë¨!
//    âœ… obj1.funcì˜ thisë¥¼ ì—¬ëŸ¬ ê³³ì—ì„œ ìž¬í™œìš© í•  ìˆ˜ ìžˆê²Œ ëœ ê²ƒ!
// ===========================================================================================================

// ðŸ‘©ðŸ»â€ðŸ’» 2) ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš° - íŠ¹ì • thisê°’ì„ ìž¬í™œìš©í•  í•„ìš”ê°€ ì—†ëŠ” ì¼€ì´ìŠ¤ë¼ì„œ 1ë²ˆì—ì„œì˜ ìž‘ì—…ì„ ì•ˆí•´ì¤€ ì¼€ì´ìŠ¤
//       -> ì½”ë“œê°€ ê°„ê²°í•´ì§€ì§€ë§Œ ì´ ë’¤ì— ì´ì–´ì„œ ìž‘ì„±í•˜ëŠ” ì½”ë“œì—ì„œ obj1.funcë©”ì†Œë“œì˜ thisë¥¼ ìž¬í™œìš©í•˜ëŠ” ê²½ìš° ì½”ë“œê°€ ë³µìž¡í•´ì§
var obj1 = {
  name: "obj1",
  func: function () {
    console.log(obj1.name);
  },
};

setTimeout(obj1.func, 1000);
// 2-1)
var obj2 = {
  name: "obj2",
  func: obj1.func, // obj1ì˜ funcë¥¼ ë³µì‚¬í•´ì„œ -> obj2.funcì— ë‹´ìŒ
};

var callback2 = obj2.func(); // obj1ì˜ func ì‹¤í–‰ ê²°ê³¼ë¥¼ -> callback2ì— ë‹´ìŒ
setTimeout(callback2, 1500);

var obj3 = { name: "obj3" };

var callback3 = obj1.func.call(obj3); // obj1ì˜ funcë¥¼ ì‹¤í–‰í•˜ë©´ì„œ, ì½œë°±í•¨ìˆ˜ë¡œ callë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ obj3ë¡œ ëª…ì‹œì  thisë°”ì¸ë”©
setTimeout(callback3, 2000);

// == ì½”ë“œ ì–´ë– ë‹ˆ? ë³µìž¡í•´ìš”ðŸ˜µâ€ðŸ’« =======================================================================================
// -> ê·¸ëž˜ì„œ ì²˜ìŒì— ì¡°ê¸ˆ ë³µìž¡í•´ë³´ì´ë”ë¼ë„ 1)ì—ì„œì˜ ì „í†µì  ë°©ë²•ìœ¼ë¡œ ë©”ì„œë“œ ì•ˆì—ì„œ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ì—¬ ìžì‹ ì˜ thisë¥¼ ë‹´ì•„ì£¼ëŠ” ë°©ë²•ì„ ì‚¬ìš©í–ˆë˜ ê²ƒ!
// =============================================================================================================

// ðŸ‘©ðŸ»â€ðŸ’» 3) ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisì— íŠ¹ì • ê°’ì„ ë°”ì¸ë”©í•˜ëŠ” ë°©ë²• 2 - bind ë©”ì„œë“œ í™œìš©
var obj1 = {
  name: "obj1",
  func: function () {
    console.log(this.name);
  },
};

setTimeout(obj1.func.bind(obj1), 1000); // obj1.funcì˜ thisë¥¼ obj1ìœ¼ë¡œ ë°”ì¸ë”©í•˜ëŠ” ì½œë°±í•¨ìˆ˜ê°€ 1000ms ë’¤ì— ì‹¤í–‰ë¨ -> 1ì´ˆ ë’¤ ì½˜ì†”ì— obj1 ì°íž˜

var obj2 = { name: "obj2" };

setTimeout(obj1.func.bind(obj2), 1500); // obj1.funcì˜ thisë¥¼ obj2ë¡œ ë°”ì¸ë”©í•˜ëŠ” ì½œë°±í•¨ìˆ˜ê°€ 1500ms ë’¤ì— ì‹¤í–‰ë¨ -> 1.5ì´ˆ ë’¤ ì½˜ì†”ì— obj2 ì°íž˜

// ==============================================================================================================================

// ðŸ‘©ðŸ»â€ðŸ’» bind ë©”ì„œë“œ ì•Œì•„ë³´ê¸°
var func = function (a, b, c, d) {
  console.log(this, a, b, c, d); // ì—¬ê¸°ì„œì˜ thisëŠ” ì „ì—­ê°ì²´
};
func(1, 2, 3, 4); // funcì— ì¸ìˆ˜ë“¤ ì „ë‹¬í•˜ë©´ì„œ ì‹¤í–‰ -> Windowê°ì²´ 1 2 3 4

var bindFunc1 = func.bind({ x: 1 }); // funcì— bindí•¨ìˆ˜ë¡œ thisì§€ì •í•˜ì—¬ ì‹¤í–‰í•œ ê²°ê³¼ë¥¼ bindFunc1ì— í• ë‹¹ -> bindFunc1 = thisê°’ { x: 1 }ì— ë°”ì¸ë”©ëœ í•¨ìˆ˜
bindFunc1(5, 6, 7, 8); // bindFunc1 ì¸ìˆ˜ë“¤ ì „ë‹¬í•˜ë©´ì„œ ì‹¤í–‰ -> { x: 1 } 5 6 7 8

// =======================================================================================================================================
